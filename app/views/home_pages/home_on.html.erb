<main class="bg-bg-dark text-white px-4 sm:px-6 md:px-12 py-8 min-h-screen">
  <section class="max-w-[1500px] mx-auto">
    <!-- TÃ­tulo  -->
    <h1 class="text-3xl sm:text-4xl font-bold mb-6 text-center sm:text-left animate-fade-in-down">
      ConheÃ§a <span class="text-highlight bg-clip-text text-transparent bg-gradient-to-r from-[#84CC16] to-[#9732D4]">nossos cursos</span>!
      <span class="inline-block ml-2 animate-wiggle">ðŸŽ“</span>
    </h1>
    
    <!-- Busca -->
    <%= render partial: "courses/search_form" %>

    <!-- Banner com Glassmorphism -->
    <section class="rounded-2xl p-8 sm:p-10 text-center mb-12 backdrop-blur-lg bg-gradient-to-br from-white/10 to-white/5 border border-white/10 shadow-xl hover:shadow-2xl transition-all duration-500 animate-fade-in-down delay-200 relative overflow-hidden">
      <div class="absolute -top-20 -right-20 w-40 h-40 rounded-full bg-[#9732D4]/20 blur-xl"></div>
      <div class="absolute -bottom-10 -left-10 w-32 h-32 rounded-full bg-[#84CC16]/20 blur-xl"></div>
      
      <h2 class="text-xl sm:text-2xl font-semibold mb-4 relative z-10">
        <span class="text-highlight">Destaque da semana:</span><br>
        Curso de Ruby on Rails com 100% OFF!
      </h2>
      <p class="text-gray-300 mb-6 max-w-2xl mx-auto relative z-10">
        Aproveite esta promoÃ§Ã£o exclusiva para dominar uma das frameworks mais poderosas do mercado
      </p>
      <button class="relative inline-flex items-center px-8 py-3 overflow-hidden text-lg font-medium text-white bg-highlight rounded-full group hover:scale-105 transition-transform duration-300 z-10">
        <span class="absolute right-0 w-8 h-32 -mt-12 transition-all duration-1000 transform translate-x-12 bg-white opacity-10 rotate-12 group-hover:-translate-x-40"></span>
        <span class="relative flex items-center gap-2">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"/>
          </svg>
          Quero aproveitar!
        </span>
      </button>
      
      <div class="flex justify-center gap-1 mt-6 relative z-10">
        <% 6.times do |i| %>
          <span class="w-2 h-2 rounded-full <%= i == 3 ? 'bg-highlight w-3' : 'bg-gray-500' %> transition-all duration-300"></span>
        <% end %>
      </div>
    </section>

    <!-- Cursos com carrossel  -->
    <% @modalities.each do |modality| %>
    <section class="mb-16 animate-fade-in-up delay-<%= 300 + (modality.id * 100) %>">
      <div class="flex items-center justify-between mb-6">
        <h2 class="text-xl sm:text-2xl font-bold flex items-center gap-3">
          <span class="w-3 h-3 rounded-full bg-highlight"></span>
          <%= modality.name %>
        </h2>
      </div>
      
      <div class="swiper mySwiper">
        <div class="swiper-wrapper pb-8">
          <% if modality.courses.any? %>
            <% modality.courses.each do |course| %>
              <div class="swiper-slide">
                <%= link_to course_path(course), class: "block group" do %>
                  <div class="relative w-[360px] h-[228px] rounded-xl overflow-hidden bg-gradient-to-br from-white/5 to-white/10 border border-white/10 shadow-md backdrop-blur-md flex flex-col">
                    <!-- Imagem do curso (placeholder) -->
                    <div class="h-3/5 bg-gradient-to-r from-[#<%= "%06x" % (rand * 0xffffff) %>] to-[#<%= "%06x" % (rand * 0xffffff) %>] flex items-center justify-center">
                    </div>

                    <div class="p-4 flex-1 flex flex-col">
                      <h3 class="font-bold text-lg mb-1"><%= course.name %></h3>
                      <p class="text-sm text-gray-400 line-clamp-2"><%= course.description %></p>
                      <div class="mt-auto flex justify-between items-center text-sm text-gray-300">
                        <%= course.media.count %> Aulas
                      </div>
                    </div>
                  </div>
                <% end %>
              </div>
            <% end %>
          <% else %>
            <div class="w-full py-10 text-center bg-white/5 rounded-xl border border-dashed border-white/10">
              <p class="text-gray-400">Nenhum curso cadastrado nesta modalidade.</p>
              <button class="mt-3 text-highlight hover:underline">Sugerir curso</button>
            </div>
          <% end %>
        </div>
      </div>
    </section>
    <% end %>
  </section>
</main>